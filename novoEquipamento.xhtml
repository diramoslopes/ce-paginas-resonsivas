<ui:composition xmlns="http://www.w3.org/1999/xhtml"
				xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
				xmlns:h="http://xmlns.jcp.org/jsf/html"
				xmlns:f="http://xmlns.jcp.org/jsf/core"
				xmlns:p="http://primefaces.org/ui"
				template="/WEB-INF/templates/Layout.xhtml">   

		<ui:define name="conteudo">

			<p:ajaxStatus onstart="statusDialog.show();" onsuccess="statusDialog.hide();"/>
			<p:dialog modal="true" widgetVar="statusDialog" draggable="false" resizable="false" closable="false">
    			<p:graphicImage value="/recursos/imagens/loading.gif" />
			</p:dialog>

	   	<h:form id="equipamento">

					<p:panel id="panel" header="Cadastro de Equipamentos" toggleable="true" style="text-align:center">
					
					<p:toolbar style="margin: 10px 0;" >
		   	  		
						<p:toolbarGroup align="right">
							<p:commandButton value="Lista de equipamentos" action="#{equipamentoMBean.novo()}"/>
						</p:toolbarGroup>
						
					</p:toolbar>
					
					<p:messages id="msgs" autoUpdate="true"/>
						
						<div class="ui-fluid">
						
							<p:panelGrid columns="4" layout="grid" style="font-size:14px"
										 columnClasses="ui-grid-col-2, ui-grid-col-4 ,ui-grid-col-2, ui-grid-col-4"
										 styleClass="panelgrid-noborder" >
										 
								<p:outputLabel value="Departamento:" for="departamento"/>
								<p:selectOneMenu id="departamento" value="#{equipamentoMBean.equipamento.departamento.codigo}" valueChangeListener="#{selectOneMenuMBean.setListaFuncionariosPorDepartamento}" immediate="true" 
									required="true" requiredMessage="É necessário selecionar um departamento" style="width: 80%">
									<f:selectItem itemLabel="" itemValue="" />
									<f:selectItems value="#{selectOneMenuMBean.listaDepartamentos}"/>
									<p:ajax event="change" update="funcionario" />
								</p:selectOneMenu>
								
								<p:outputLabel value="Entidade:" for="entidade"/>
								<p:selectOneMenu id="entidade" value="#{equipamentoMBean.equipamento.entidade}" required="true" requiredMessage="É necessário selecionar uma entidade" style="width: 80%">
									<f:selectItem itemLabel="" itemValue="" />
									<f:selectItems value="#{selectOneMenuMBean.tipoEntidadeLabels}"/>
								</p:selectOneMenu>
								
								<p:outputLabel value="Funcionário:" for="funcionario"/>
								<p:selectOneMenu id="funcionario" value="#{equipamentoMBean.equipamento.funcionario.codigo}" required="true" requiredMessage="É necessário selecionar um funcionário" style="width: 80%">
									<f:selectItem itemLabel="" itemValue="" />
									<f:selectItems value="#{selectOneMenuMBean.funcionarios}"/>
								</p:selectOneMenu>
								
								<p:outputLabel value="Série:" for="numeroDeSerie"/>
								<p:inputText id="numeroDeSerie" value="#{equipamentoMBean.equipamento.numeroDeSerie}" size="50" validatorMessage="O número de série deve ter entre 4 e 30 caractéres" style="width: 80%">
									<f:validateLength minimum="4" maximum="30" />
								</p:inputText>
								
								<p:outputLabel value="Patrimônio:" for="numeroDoPatrimonio"/>
								<p:inputText id="numeroDoPatrimonio" value="#{equipamentoMBean.equipamento.numeroDoPatrimonio}" validatorMessage="O número de patrimônio deve ter entre 3 e 6 caractéres" style="width: 80%">
									<f:validateLength minimum="3" maximum="6"/>
								</p:inputText>
								
								<p:outputLabel value="Tipo:" for="tipo"/>
								<p:selectOneMenu id="tipo" value="#{equipamentoMBean.equipamento.tipo}" required="true" requiredMessage="É necessário selecionar um tipo" style="width: 80%"> 
									<f:selectItem itemLabel="" itemValue="" />
									<f:selectItems value="#{selectOneMenuMBean.tipoEquipamentoLabels}"/>
								</p:selectOneMenu>
								
								<p:outputLabel value="Marca:" for="marca"/>
								<p:inputText id="marca" value="#{equipamentoMBean.equipamento.marca}" validatorMessage="A marca deve ter entre 2 e 30 caractéres" style="width: 80%">
									<f:validateLength minimum="2" maximum="30"/>
								</p:inputText>
		
								<p:outputLabel value="Modelo:" for="modelo"/>
								<p:inputText id="modelo" value="#{equipamentoMBean.equipamento.modelo}" size="50" validatorMessage="O modelo deve ter entre 2 e 60 caractéres" style="width: 80%">
									<f:validateLength minimum="2" maximum="60"/>
								</p:inputText>
								
								<p:outputLabel value="Status:" for="status"/>
								<p:selectOneMenu id="status" value="#{equipamentoMBean.equipamento.status}" required="true" requiredMessage="É necessário selecionar um status" style="width: 80%" >
									<f:selectItem itemLabel="" itemValue="" />
									<f:selectItems value="#{selectOneMenuMBean.tipoStatusLabels}"/>
								</p:selectOneMenu>
								
								<p:outputLabel value="Sistema Operacional:" for="sistemaOperacional" />
								<p:selectOneMenu id="sistemaOperacional" value="#{equipamentoMBean.equipamento.sistemaOperacional}" required="true" requiredMessage="É necessário selecionar um SO" style="width: 80%" >
									<f:selectItem itemLabel="" itemValue="" />
									<f:selectItems value="#{selectOneMenuMBean.tipoSistemaOperacionalLabels}"/>
								</p:selectOneMenu>
								
								<p:outputLabel value="Pacote Office:" for="pacoteOffice" />
								<p:selectOneMenu id="pacoteOffice" value="#{equipamentoMBean.equipamento.pacoteOffice}" required="true" requiredMessage="É necessário selecionar um Pacote Office" style="width: 80%" >
									<f:selectItem itemLabel="" itemValue="" />
									<f:selectItems value="#{selectOneMenuMBean.tipoPacoteOfficeLabels}"/>
								</p:selectOneMenu>
								
								<p:outputLabel value="Observação:" for="observacao" />
								<p:inputTextarea id="observacao" value="#{equipamentoMBean.equipamento.observacao}" style="width:80%;height:20%;" cols="450"/>
								
								<p:outputLabel  />
								<p:outputLabel  />
								<p:outputLabel  />
								<p:commandButton value="Salvar" title="Salvar equipamento" icon="fa fa-floppy-o" action="#{equipamentoMBean.salvar()}" style="width:80%;" update="panel" />
							
							</p:panelGrid>
							
						</div>
					
				</p:panel>

			</h:form>

		</ui:define>

</ui:composition>